# Multi-stage Dockerfile Template
# Customize based on your programming language and runtime

# ============================================
# Python Dockerfile Template
# ============================================
# FROM python:{{PYTHON_VERSION}}-slim as base
# 
# WORKDIR /app
# 
# # Install system dependencies
# RUN apt-get update && apt-get install -y \
#     gcc \
#     postgresql-client \
#     && rm -rf /var/lib/apt/lists/*
# 
# # Copy dependency files
# COPY requirements.txt .
# 
# # Install Python dependencies
# RUN pip install --no-cache-dir -r requirements.txt
# 
# # Copy application code
# COPY . .
# 
# # Expose port
# EXPOSE {{PORT}}
# 
# # Run the application
# CMD ["python", "app.py"]
# # Or for Flask: CMD ["flask", "run", "--host=0.0.0.0"]
# # Or for FastAPI: CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "{{PORT}}", "--reload"]

# ============================================
# Node.js Dockerfile Template
# ============================================
# FROM node:{{NODE_VERSION}}-alpine as base
# 
# WORKDIR /app
# 
# # Copy package files
# COPY package*.json ./
# 
# # Install dependencies
# RUN npm ci --only=production
# 
# # Development stage
# FROM base as development
# RUN npm ci
# 
# COPY . .
# 
# EXPOSE {{PORT}}
# 
# CMD ["npm", "run", "dev"]

# ============================================
# Go Dockerfile Template
# ============================================
# FROM golang:{{GO_VERSION}}-alpine as builder
# 
# WORKDIR /app
# 
# # Copy go mod files
# COPY go.mod go.sum ./
# RUN go mod download
# 
# # Copy source code
# COPY . .
# 
# # Build the application
# RUN CGO_ENABLED=0 GOOS=linux go build -o /server .
# 
# # Final stage
# FROM alpine:latest
# 
# WORKDIR /app
# 
# # Copy binary from builder
# COPY --from=builder /server .
# 
# EXPOSE {{PORT}}
# 
# CMD ["./server"]

# ============================================
# .NET Dockerfile Template
# ============================================
# FROM mcr.microsoft.com/dotnet/sdk:{{DOTNET_VERSION}} AS build
# 
# WORKDIR /app
# 
# # Copy csproj and restore
# COPY *.csproj ./
# RUN dotnet restore
# 
# # Copy everything else and build
# COPY . ./
# RUN dotnet publish -c Release -o out
# 
# # Runtime stage
# FROM mcr.microsoft.com/dotnet/aspnet:{{DOTNET_VERSION}}
# 
# WORKDIR /app
# 
# COPY --from=build /app/out .
# 
# EXPOSE {{PORT}}
# 
# ENTRYPOINT ["dotnet", "{{PROJECT_NAME}}.dll"]

# ============================================
# Java (Spring Boot) Dockerfile Template
# ============================================
# FROM maven:3.8-openjdk-{{JAVA_VERSION}} AS build
# 
# WORKDIR /app
# 
# # Copy pom.xml and download dependencies
# COPY pom.xml .
# RUN mvn dependency:go-offline
# 
# # Copy source and build
# COPY src ./src
# RUN mvn clean package -DskipTests
# 
# # Runtime stage
# FROM openjdk:{{JAVA_VERSION}}-jre-slim
# 
# WORKDIR /app
# 
# COPY --from=build /app/target/*.jar app.jar
# 
# EXPOSE {{PORT}}
# 
# ENTRYPOINT ["java", "-jar", "app.jar"]

# ============================================
# Generic Template (customize as needed)
# ============================================
FROM {{BASE_IMAGE}}

WORKDIR /app

# Install dependencies
# {{INSTALL_DEPENDENCIES}}

# Copy application files
COPY . .

# Expose port
EXPOSE {{PORT}}

# Run the application
CMD ["{{START_COMMAND}}"]
